(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{542:function(t,e,a){"use strict";a.r(e);var s=a(3),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解释"}},[t._v("#")]),t._v(" 解释")]),t._v(" "),a("p",[t._v("Vuex是一个状态管理工具")]),t._v(" "),a("p",[t._v("简单的看成把需要多个组件共享的变量全部存储在一个对象里面，这个对象放在顶层的Vue实例中")]),t._v(" "),a("h4",{attrs:{id:"好处"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#好处"}},[t._v("#")]),t._v(" 好处")]),t._v(" "),a("p",[t._v("Vuex带来的遍历就是响应式的，共享的对象可以响应处理")]),t._v(" "),a("h4",{attrs:{id:"共享的对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#共享的对象"}},[t._v("#")]),t._v(" 共享的对象")]),t._v(" "),a("p",[a("code",[t._v("用户登录状态")]),t._v("、"),a("code",[t._v("用户名称")]),t._v("、"),a("code",[t._v("头像")]),t._v("、"),a("code",[t._v("地理位置信息")])]),t._v(" "),a("p",[a("code",[t._v("商品的收藏")]),t._v("、"),a("code",[t._v("购物车的物品")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[a("code",[t._v("npm install vuex --save")])]),t._v(" "),a("h4",{attrs:{id:"使用步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用步骤"}},[t._v("#")]),t._v(" 使用步骤")]),t._v(" "),a("ul",[a("li",[t._v("安装完成vuex之后，创建store文件夹，再在文件夹内创建index.js")]),t._v(" "),a("li",[t._v("在index.js内配置完以下内容\n"),a("img",{attrs:{src:t.$withBase("../../img/image-20210519203346598.png")}})]),t._v(" "),a("li",[t._v("在main.js中"),a("code",[t._v("import store from './store/index.js'")])]),t._v(" "),a("li",[t._v("在new Vue中使用store\n"),a("img",{attrs:{src:t.$withBase("../../img/image-20210519203502472.png")}})]),t._v(" "),a("li",[t._v("完成以上步骤即可使用vuex")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"参数说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[t._v("#")]),t._v(" 参数说明")]),t._v(" "),a("h3",{attrs:{id:"过程图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#过程图"}},[t._v("#")]),t._v(" "),a("strong",[t._v("过程图")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519205021834.png")}}),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[t._v("#")]),t._v(" state")]),t._v(" "),a("p",[a("code",[t._v("这个对象存放的是全组件共享的数据")])]),t._v(" "),a("p",[t._v("state单一状态树："),a("code",[t._v("整个vue实例中只使用一个store，不要创建多个store")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("使用：")]),t._v(" "),a("code",[t._v("$store.state.name即可使用其中的name数据")])]),t._v(" "),a("li",[a("strong",[t._v("修改：")]),a("code",[t._v("在没有异步操作下的修改使用到mutation")])])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"mutation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mutation"}},[t._v("#")]),t._v(" mutation")]),t._v(" "),a("p",[a("code",[t._v("用于对state数据的修改")])]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("创建")]),t._v("：在mutation中创建方法，记住要传入state\n"),a("img",{attrs:{src:t.$withBase("../../img/image-20210519211942467.png")}})])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("使用：")]),t._v(" 在vue实例中创建方法来使用mutation，两个rename同名但不相同")]),t._v(" "),a("p",[t._v("​           要用到"),a("code",[t._v("this.$store.commit(mutation)")])]),t._v(" "),a("p",[t._v("​           "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519212047853.png")}})]),t._v(" "),a("p",[t._v("​           "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519212108071.png")}})])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("传递参数-Payload：")]),t._v(" 只需要在"),a("code",[t._v("this.$store.commit(mutation,参数)")]),t._v("\n并且在"),a("code",[t._v("mutation")]),t._v("中接收参数")]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519220901107.png")}}),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519220910779.png")}}),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519220917506.png")}})]),t._v(" "),a("li",[a("p",[a("strong",[t._v("提交风格：")]),t._v(" 另一种提交形式，这样的形式可以提交更多的参数")]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519221928155.png")}}),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519221955871.png")}})]),t._v(" "),a("li",[a("p",[a("strong",[t._v("响应式原理：")]),a("code",[t._v("提前在store中初始化好所需的属性")])]),t._v(" "),a("p",[t._v("​                       "),a("code",[t._v("在state中的对象添加新属性或删除属性是，要用Vue.set、Vue.delete")]),t._v("\n​                       "),a("code",[t._v("Vue.set(state.user,'age',15)")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("推荐：")]),t._v(" 官方推荐将所有的mutation在另一个文件中定义为常量\n"),a("img",{attrs:{src:t.$withBase("../../img/image-20210519231154398.png")}})]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519231231969.png")}})])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"getter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getter"}},[t._v("#")]),t._v(" getter")]),t._v(" "),a("p",[a("code",[t._v("偏向于计算属性，就是先将state中的数据处理了再使用")])]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("创建：")]),t._v(" 直接在getters内创建方法即可，要传入state\n"),a("img",{attrs:{src:t.$withBase("../../img/image-20210519214108575.png")}})])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("使用：")]),t._v(" 直接使用"),a("code",[t._v("$store.getter.twoname")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("补充：")]),a("code",[t._v("getters创建的方法可以有第二个参数getters，及使用上面的getters进一步修改")]),t._v(" "),a("code",[t._v("getters也可以传参，但是需要return出一个函数")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519215503165.png")}}),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519215516707.png")}})])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#action"}},[t._v("#")]),t._v(" "),a("strong",[t._v("action")])]),t._v(" "),a("p",[a("code",[t._v("基本类似于对mutation进行异步处理，是一个中间商，传递的参数是context")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519233405224.png")}}),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519233314336.png")}}),t._v(" "),a("p",[a("code",[t._v("下面是methods，action要用dispatch")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519233545215.png")}}),t._v(" "),a("p",[a("strong",[t._v("promise写法：")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519234251002.png")}}),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519234208859.png")}}),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modules"}},[t._v("#")]),t._v(" modules")]),t._v(" "),a("p",[a("code",[t._v("对store进行模块划分，解决state单一树问题")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210519234535667.png")}}),t._v(" "),a("ul",[a("li",[t._v("模块的state："),a("code",[t._v("$store.state.a.name")]),t._v("    moduleA")]),t._v(" "),a("li",[t._v("模块的mutation：与原来的写法不变，mutation命名不重复")]),t._v(" "),a("li",[t._v("模块的getters：与原来相同，但如果要用到根模块state，用rootState\n"),a("img",{attrs:{src:t.$withBase("../../img/image-20210519235825603.png")}})]),t._v(" "),a("li",[t._v("模块的actions：里面的context对应的是模块里的上下文")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"文件目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件目录"}},[t._v("#")]),t._v(" "),a("strong",[t._v("文件目录")])]),t._v(" "),a("p",[a("code",[t._v("官方推荐将mutation、getters等都抽离出去生成新的js文件，利用import导入，其中state的内容可以放在index.js")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("../../img/image-20210520000719333.png")}})])}),[],!1,null,null,null);e.default=v.exports}}]);